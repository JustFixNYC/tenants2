---
version: 2

exclude_patterns:
  - ".venv/"
  # These are auto-generated by querybuilder/Apollo codegen, ignore them.
  - "frontend/lib/queries/*"
  # These are auto-generated by Django, ignore them.
  - "**/migrations/*"
  # These are auto-generated by commondatabuilder, ignore them.
  - "common-data/*-choices.ts"

checks:
  similar-code:
    # This setting is confusing, I wanted to configure it to
    # only complain if 3 or more instances of similar code is
    # found (it defaults to 2), but changing the threshold to
    # 3 made it even *more* sensitive, so I'm just disabling
    # it entirely now.
    enabled: false
  argument-count:
    # This isn't a very useful check for Python code because
    # it's perfectly fine to have functions that take lots
    # of arguments, as long as most of them are passed as kwargs.
    enabled: false
  method-lines:
    # This isn't a very useful check for JSX code because
    # splitting up JSX into multiple 25-line functions often
    # makes the code *harder* to read, not easier. That said,
    # the default threshold of 25 lines is reasonable for
    # non-JSX code, but it doesn't seem possible to change
    # the threshold on a per-language basis here.
    config:
      threshold: 40
